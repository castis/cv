{"version":3,"sources":["index.js"],"names":["i","s","o","g","r","a","m","q","push","arguments","l","Date","createElement","getElementsByTagName","async","src","parentNode","insertBefore","window","document","ga","container","canvas","context","getContext","bubbles","phaser_switch","defaults","color","main","addEventListener","width","clientWidth","dispatchEvent","Event","phaser","phase","parseInt","Math","sin","join","update","state","alpha","x","random","y","radius","velocity","abs","draw","beginPath","arc","fillStyle","fill","animate","clearRect","height","length","requestAnimationFrame","maxBubbles","addBubbles","setInterval","clearInterval"],"mappings":"AAAA,cAAA,SAAUA,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,GACxBN,EAAE,yBAA2BI,CAC7BJ,GAAEI,GAAKJ,EAAEI,IAAM,YACVJ,EAAEI,GAAGG,EAAIP,EAAEI,GAAGG,OAASC,KAAKC,YAEjCT,EAAEI,GAAGM,EAAI,EAAI,GAAIC,KACjBN,GAAIJ,EAAEW,cAAcV,GACpBI,EAAIL,EAAEY,qBAAqBX,GAAG,EAC9BG,GAAES,MAAQ,CACVT,GAAEU,IAAMZ,CACRG,GAAEU,WAAWC,aAAaZ,EAAGC,KAC9BY,OAAQC,SAAU,SAAU,0CAA2C,KAC1EC,IAAG,SAAU,gBAAiB,OAC9BA,IAAG,OAAQ,aAEX,WACI,GAAMC,WAAYF,SAASN,qBAAqB,UAAU,EAC1D,IAAMS,QAASH,SAASN,qBAAqB,UAAU,EACvD,IAAMU,SAAUD,OAAOE,WAAW,KAClC,IAAMC,WACN,IAAIC,eAAgB,KAEpB,IAAMC,WACFC,MAAO,gBAGX,IAAMC,MAAOV,SAASN,qBAAqB,QAAQ,EACnDgB,MAAKC,iBAAiB,QAAS,WAAA,MAAMJ,gBAAiBA,eAAe,MAErER,QAAOY,iBAAiB,SAAU,WAC9BR,OAAOS,MAAQV,UAAUW,aAE7Bd,QAAOe,cAAc,GAAIC,OAAM,UAE/B,SAASC,QAAOnC,EAAGoC,OACf,OACIC,SAASC,KAAKC,IAAI,MAASvC,EAAI,EAAIoC,OAAS,IAAM,KAClDC,SAASC,KAAKC,IAAI,MAASvC,EAAI,EAAIoC,OAAS,IAAM,KAClDC,SAASC,KAAKC,IAAI,MAASvC,EAAI,EAAIoC,OAAS,IAAM,MACpDI,KAAK,KAGX,QAASC,QAAOC,OACZ,IAAKA,OAASA,MAAMC,MAAQ,EAAG,CAC3B,OACIC,EAAGN,KAAKO,SAAWvB,OAAOS,MAC1Be,EAAG,EACHH,MAAO,GAAML,KAAKO,SAAW,GAC7BE,OAAQ,IAAOT,KAAKO,SAAW,IAC/BG,SAAUV,KAAKW,IAAIX,KAAKO,UAAY,GACpCjB,MAAOD,SAASC,MAChBQ,MAAOC,SAASC,KAAKO,SAAW,KAIxC,OACID,EAAGF,MAAME,EACTE,EAAGJ,MAAMI,EAAIJ,MAAMM,SACnBL,MAAOD,MAAMC,MAAQ,KACrBI,OAAQL,MAAMK,OACdC,SAAUN,MAAMM,SAAW,KAC3BpB,MAAOF,cACDS,OAAOO,MAAMI,EAAGJ,MAAMN,OACtBT,SAASC,MACfQ,MAAOM,MAAMN,OAIrB,QAASc,MAAKR,OACVnB,QAAQ4B,WACR5B,SAAQ6B,IAAIV,MAAME,EAAGF,MAAMI,EAAGJ,MAAMK,OAAQ,EAAG,OAC/CxB,SAAQ8B,UAAY,QAASX,MAAMd,MAAO,IAAKc,MAAMC,MAAO,GAC5DpB,SAAQ+B,OAGZ,QAASC,WACLhC,QAAQiC,UAAU,EAAG,EAAGlC,OAAOS,MAAOT,OAAOmC,OAE7C,KAAK,GAAIzD,GAAIyB,QAAQiC,OAAQ1D,KAAM,CAC/BkD,KAAKzB,QAAQzB,GAAKyC,OAAOhB,QAAQzB,KAGrC2D,sBAAsBJ,SAI1B,GAAMK,YAAatC,OAAOS,MAAQ,EAClC,IAAM8B,YAAaC,YAAY,WAC3B,GAAIrC,QAAQiC,OAASE,WAAY,CAC7B,MAAOG,eAAcF,YAGzB,IAAK,GAAIjB,GAAI,EAAGA,EAAI,EAAGA,IAAK,CACxBnB,QAAQjB,KAAKiC,YAElB,IAEHc","file":"index.js","sourcesContent":["(function(i, s, o, g, r, a, m) {\n    i['GoogleAnalyticsObject'] = r;\n    i[r] = i[r] || function() {\n        (i[r].q = i[r].q || []).push(arguments)\n    },\n    i[r].l = 1 * new Date();\n    a = s.createElement(o),\n    m = s.getElementsByTagName(o)[0];\n    a.async = 1;\n    a.src = g;\n    m.parentNode.insertBefore(a, m)\n})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');\nga('create', 'UA-25609352-3', 'auto');\nga('send', 'pageview');\n\n(() => {\n    const container = document.getElementsByTagName('footer')[0];\n    const canvas = document.getElementsByTagName('canvas')[0];\n    const context = canvas.getContext('2d');\n    const bubbles = [];\n    let phaser_switch = false;\n\n    const defaults = {\n        color: \"200, 200, 200\",\n    };\n\n    const main = document.getElementsByTagName(\"main\")[0];\n    main.addEventListener(\"click\", () => phaser_switch = !phaser_switch, false);\n\n    window.addEventListener('resize', () => {\n        canvas.width = container.clientWidth;\n    });\n    window.dispatchEvent(new Event('resize'));\n\n    function phaser(i, phase) {\n        return [\n            parseInt(Math.sin(0.0314 * i + 2 + phase) * 127 + 128),\n            parseInt(Math.sin(0.0314 * i + 0 + phase) * 127 + 128),\n            parseInt(Math.sin(0.0314 * i + 4 + phase) * 127 + 128),\n        ].join(',');\n    }\n\n    function update(state) {\n        if (!state || state.alpha < 0) {\n            return {\n                x: Math.random() * canvas.width,\n                y: 0, //canvas.height + 20,\n                alpha: 0.6 + Math.random() * 0.3,\n                radius: 0.05 + Math.random() * 5.3,\n                velocity: Math.abs(Math.random()) + 0.4,\n                color: defaults.color,\n                phase: parseInt(Math.random() * 20),\n            };\n        }\n\n        return {\n            x: state.x,\n            y: state.y + state.velocity,\n            alpha: state.alpha - 0.005,\n            radius: state.radius,\n            velocity: state.velocity - 0.005,\n            color: phaser_switch\n                ? phaser(state.y, state.phase)\n                : defaults.color,\n            phase: state.phase,\n        };\n    }\n\n    function draw(state) {\n        context.beginPath();\n        context.arc(state.x, state.y, state.radius, 0, 6.2832);\n        context.fillStyle = 'rgba('+ state.color +','+ state.alpha +')';\n        context.fill();\n    }\n\n    function animate() {\n        context.clearRect(0, 0, canvas.width, canvas.height);\n\n        for (let i = bubbles.length; i--;) {\n            draw(bubbles[i] = update(bubbles[i]));\n        }\n\n        requestAnimationFrame(animate);\n    }\n\n    // if we add all the bubbles at once then they come in waves\n    const maxBubbles = canvas.width / 10;\n    const addBubbles = setInterval(() => {\n        if (bubbles.length > maxBubbles) {\n            return clearInterval(addBubbles);\n        }\n\n        for (let x = 0; x < 5; x++) {\n            bubbles.push(update());\n        }\n    }, 100);\n\n    animate();\n})();\n"],"sourceRoot":"/source/"}