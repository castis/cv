"use strict";(function(i,s,o,g,r,a,m){i["GoogleAnalyticsObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date;a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,"script","//www.google-analytics.com/analytics.js","ga");ga("create","UA-25609352-3","auto");ga("send","pageview");(function(w,d){function userSwitch(id,positions,callback){var index=0;d.getElementById(id).addEventListener("click",function(){index=index>=positions.length-1?0:index+1;callback(positions[index])})}var container=d.getElementsByTagName("footer")[0];var canvas=d.getElementsByTagName("canvas")[0];var context=canvas.getContext("2d");var particles=[];var defaults={shape:"circle",phase:function phase(){}};var renderers={circle:function circle(state){context.arc(state.x,state.y-state.radius,state.radius,0,6.2832)},triangle:function triangle(state){var len=state.radius*3;context.moveTo(state.x,state.y);context.lineTo(state.x+len/2,state.y-len*.9);context.lineTo(state.x+len,state.y)},bar:function bar(state){var width=state.radius*2+state.alpha*10;var height=120;context.moveTo(state.x,state.y);context.lineTo(state.x+width,state.y);context.lineTo(state.x+width,state.y-height);context.lineTo(state.x,state.y-height)}};userSwitch("color",[0,1,2],function(value){if(value===0){defaults.phase=function(){return null}}else if(value==1){defaults.phase=function(){return parseInt(Math.random()*20)}}else if(value==2){defaults.phase=function(x){return x/180}}});userSwitch("shape",Object.keys(renderers),function(value){defaults.shape=value});w.addEventListener("resize",function(){canvas.width=container.clientWidth});w.dispatchEvent(new Event("resize"));function color(state){if(state.phase){return parseInt(Math.sin(.0314*state.y+2+state.phase)*127+128)+","+parseInt(Math.sin(.0314*state.y+0+state.phase)*127+128)+","+parseInt(Math.sin(.0314*state.y+4+state.phase)*127+128)}return state.color}function update(state){if(!state||state.alpha<0){var radius=.05+Math.random()*5.3;var x=Math.floor(Math.random()*(canvas.width-radius*2-3))+radius;return{x:x,y:0,alpha:.6+Math.random()*.3,radius:radius,velocity:Math.floor(Math.random()*1.5)+1,color:"100,100,100",phase:defaults.phase(x),shape:defaults.shape}}return{x:state.x,y:state.y+state.velocity,alpha:state.alpha-.025,radius:state.radius,velocity:state.velocity+.1,color:color(state),phase:state.phase,shape:state.shape}}function draw(state){context.beginPath();renderers[state.shape](state);context.fillStyle="rgba("+state.color+","+state.alpha+")";context.fill()}function animate(){context.clearRect(0,0,canvas.width,canvas.height);for(var i=particles.length;i--;){draw(particles[i]=update(particles[i]))}requestAnimationFrame(animate)}var maxBubbles=canvas.width/5;var addBubbles=setInterval(function(){if(particles.length>maxBubbles){return clearInterval(addBubbles)}for(var x=0;x<10;x++){particles.push(update())}},100);animate()})(window,document);
//# sourceMappingURL=index.js.map
